{"dependencies":[{"name":"../skia","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":31,"index":31}}],"key":"Lpu2nVaO1EXd4ggU7Psxd64qAx4=","exportNames":["*"]}},{"name":"../Platform","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":32},"end":{"line":2,"column":39,"index":71}}],"key":"SkcN7Zi2IL0pUxWZCaWeI65icek=","exportNames":["*"]}},{"name":"../sksg/Reconciler","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":72},"end":{"line":3,"column":48,"index":120}}],"key":"DeHs3WhMLPm5P1oaJyJ8IyGNIPY=","exportNames":["*"]}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.isOnMainThread = exports.drawAsPicture = exports.drawAsImageFromPicture = exports.drawAsImage = void 0;\n  var _skia = require(_dependencyMap[0], \"../skia\");\n  var _Platform = require(_dependencyMap[1], \"../Platform\");\n  var _Reconciler = require(_dependencyMap[2], \"../sksg/Reconciler\");\n  // We call it main thread because on web main is JS thread\n  const _worklet_9537954624951_init_data = {\n    code: \"function shopify_OffscreenJs1(){const{Platform}=this.__closure;return typeof _WORKLET!==\\\"undefined\\\"&&_WORKLET===true||Platform.OS===\\\"web\\\";}\",\n    location: \"/tmp/cc-agent/60860651/project/apps/mobile/node_modules/@shopify/react-native-skia/lib/module/renderer/Offscreen.js\",\n    sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"shopify_OffscreenJs1\\\",\\\"Platform\\\",\\\"__closure\\\",\\\"_WORKLET\\\",\\\"OS\\\"],\\\"sources\\\":[\\\"/tmp/cc-agent/60860651/project/apps/mobile/node_modules/@shopify/react-native-skia/lib/module/renderer/Offscreen.js\\\"],\\\"mappings\\\":\\\"AAK8B,SAAAA,oBAAMA,CAAA,QAAAC,QAAA,OAAAC,SAAA,CAGlC,MAAO,OAAO,CAAAC,QAAQ,GAAK,WAAW,EAAIA,QAAQ,GAAK,IAAI,EAAIF,QAAQ,CAACG,EAAE,GAAK,KAAK,CACtF\\\",\\\"ignoreList\\\":[]}\",\n    version: \"3.17.5\"\n  };\n  const isOnMainThread = exports.isOnMainThread = function () {\n    const _e = [new global.Error(), -2, -27];\n    const shopify_OffscreenJs1 = function () {\n      return typeof _WORKLET !== \"undefined\" && _WORKLET === true || _Platform.Platform.OS === \"web\";\n    };\n    shopify_OffscreenJs1.__closure = {\n      Platform: _Platform.Platform\n    };\n    shopify_OffscreenJs1.__workletHash = 9537954624951;\n    shopify_OffscreenJs1.__initData = _worklet_9537954624951_init_data;\n    shopify_OffscreenJs1.__stackDetails = _e;\n    return shopify_OffscreenJs1;\n  }();\n  const drawAsPicture = async (element, bounds) => {\n    const recorder = _skia.Skia.PictureRecorder();\n    const canvas = recorder.beginRecording(bounds);\n    const root = new _Reconciler.SkiaSGRoot(_skia.Skia);\n    await root.render(element);\n    root.drawOnCanvas(canvas);\n    const picture = recorder.finishRecordingAsPicture();\n    root.unmount();\n    return picture;\n  };\n  exports.drawAsPicture = drawAsPicture;\n  const drawAsImage = async (element, size) => {\n    return drawAsImageFromPicture(await drawAsPicture(element), size);\n  };\n  exports.drawAsImage = drawAsImage;\n  const _worklet_5317884552509_init_data = {\n    code: \"function shopify_OffscreenJs2(picture,size){const{Skia,isOnMainThread,Platform}=this.__closure;const surface=Skia.Surface.MakeOffscreen(size.width,size.height);const canvas=surface.getCanvas();canvas.drawPicture(picture);surface.flush();const image=surface.makeImageSnapshot();if(!isOnMainThread()||Platform.OS===\\\"web\\\"){return image.makeNonTextureImage();}else{return image;}}\",\n    location: \"/tmp/cc-agent/60860651/project/apps/mobile/node_modules/@shopify/react-native-skia/lib/module/renderer/Offscreen.js\",\n    sourceMap: \"{\\\"version\\\":3,\\\"names\\\":[\\\"shopify_OffscreenJs2\\\",\\\"picture\\\",\\\"size\\\",\\\"Skia\\\",\\\"isOnMainThread\\\",\\\"Platform\\\",\\\"__closure\\\",\\\"surface\\\",\\\"Surface\\\",\\\"MakeOffscreen\\\",\\\"width\\\",\\\"height\\\",\\\"canvas\\\",\\\"getCanvas\\\",\\\"drawPicture\\\",\\\"flush\\\",\\\"image\\\",\\\"makeImageSnapshot\\\",\\\"OS\\\",\\\"makeNonTextureImage\\\"],\\\"sources\\\":[\\\"/tmp/cc-agent/60860651/project/apps/mobile/node_modules/@shopify/react-native-skia/lib/module/renderer/Offscreen.js\\\"],\\\"mappings\\\":\\\"AAuBsC,QAAC,CAAAA,oBAAkBA,CAAAC,OAAA,CAAAC,IAAA,QAAAC,IAAA,CAAAC,cAAA,CAAAC,QAAA,OAAAC,SAAA,CAGvD,KAAM,CAAAC,OAAO,CAAGJ,IAAI,CAACK,OAAO,CAACC,aAAa,CAACP,IAAI,CAACQ,KAAK,CAAER,IAAI,CAACS,MAAM,CAAC,CACnE,KAAM,CAAAC,MAAM,CAAGL,OAAO,CAACM,SAAS,CAAC,CAAC,CAClCD,MAAM,CAACE,WAAW,CAACb,OAAO,CAAC,CAC3BM,OAAO,CAACQ,KAAK,CAAC,CAAC,CACf,KAAM,CAAAC,KAAK,CAAGT,OAAO,CAACU,iBAAiB,CAAC,CAAC,CAEzC,GAAI,CAACb,cAAc,CAAC,CAAC,EAAIC,QAAQ,CAACa,EAAE,GAAK,KAAK,CAAE,CAC9C,MAAO,CAAAF,KAAK,CAACG,mBAAmB,CAAC,CAAC,CACpC,CAAC,IAAM,CACL,MAAO,CAAAH,KAAK,CACd,CACF\\\",\\\"ignoreList\\\":[]}\",\n    version: \"3.17.5\"\n  };\n  const drawAsImageFromPicture = exports.drawAsImageFromPicture = function () {\n    const _e = [new global.Error(), -4, -27];\n    const shopify_OffscreenJs2 = function (picture, size) {\n      const surface = _skia.Skia.Surface.MakeOffscreen(size.width, size.height);\n      const canvas = surface.getCanvas();\n      canvas.drawPicture(picture);\n      surface.flush();\n      const image = surface.makeImageSnapshot();\n      // If we are not on the main thread or if we are on Web, we need to make the image non-texture.\n      if (!isOnMainThread() || _Platform.Platform.OS === \"web\") {\n        return image.makeNonTextureImage();\n      } else {\n        return image;\n      }\n    };\n    shopify_OffscreenJs2.__closure = {\n      Skia: _skia.Skia,\n      isOnMainThread,\n      Platform: _Platform.Platform\n    };\n    shopify_OffscreenJs2.__workletHash = 5317884552509;\n    shopify_OffscreenJs2.__initData = _worklet_5317884552509_init_data;\n    shopify_OffscreenJs2.__stackDetails = _e;\n    return shopify_OffscreenJs2;\n  }();\n});","lineCount":75,"map":[[6,2,1,0],[6,6,1,0,"_skia"],[6,11,1,0],[6,14,1,0,"require"],[6,21,1,0],[6,22,1,0,"_dependencyMap"],[6,36,1,0],[7,2,2,0],[7,6,2,0,"_Platform"],[7,15,2,0],[7,18,2,0,"require"],[7,25,2,0],[7,26,2,0,"_dependencyMap"],[7,40,2,0],[8,2,3,0],[8,6,3,0,"_Reconciler"],[8,17,3,0],[8,20,3,0,"require"],[8,27,3,0],[8,28,3,0,"_dependencyMap"],[8,42,3,0],[9,2,5,0],[10,2,5,0],[10,8,5,0,"_worklet_9537954624951_init_data"],[10,40,5,0],[11,4,5,0,"code"],[11,8,5,0],[12,4,5,0,"location"],[12,12,5,0],[13,4,5,0,"sourceMap"],[13,13,5,0],[14,4,5,0,"version"],[14,11,5,0],[15,2,5,0],[16,2,6,7],[16,8,6,13,"isOnMainThread"],[16,22,6,27],[16,25,6,27,"exports"],[16,32,6,27],[16,33,6,27,"isOnMainThread"],[16,47,6,27],[16,50,6,30],[17,4,6,30],[17,10,6,30,"_e"],[17,12,6,30],[17,20,6,30,"global"],[17,26,6,30],[17,27,6,30,"Error"],[17,32,6,30],[18,4,6,30],[18,10,6,30,"shopify_OffscreenJs1"],[18,30,6,30],[18,42,6,30,"shopify_OffscreenJs1"],[18,43,6,30],[18,45,6,36],[19,6,9,2],[19,13,9,9],[19,20,9,16,"_WORKLET"],[19,28,9,24],[19,33,9,29],[19,44,9,40],[19,48,9,44,"_WORKLET"],[19,56,9,52],[19,61,9,57],[19,65,9,61],[19,69,9,65,"Platform"],[19,87,9,73],[19,88,9,74,"OS"],[19,90,9,76],[19,95,9,81],[19,100,9,86],[20,4,10,0],[20,5,10,1],[21,4,10,1,"shopify_OffscreenJs1"],[21,24,10,1],[21,25,10,1,"__closure"],[21,34,10,1],[22,6,10,1,"Platform"],[22,14,10,1],[22,16,9,65,"Platform"],[23,4,9,73],[24,4,9,73,"shopify_OffscreenJs1"],[24,24,9,73],[24,25,9,73,"__workletHash"],[24,38,9,73],[25,4,9,73,"shopify_OffscreenJs1"],[25,24,9,73],[25,25,9,73,"__initData"],[25,35,9,73],[25,38,9,73,"_worklet_9537954624951_init_data"],[25,70,9,73],[26,4,9,73,"shopify_OffscreenJs1"],[26,24,9,73],[26,25,9,73,"__stackDetails"],[26,39,9,73],[26,42,9,73,"_e"],[26,44,9,73],[27,4,9,73],[27,11,9,73,"shopify_OffscreenJs1"],[27,31,9,73],[28,2,9,73],[28,3,6,30],[28,5,10,1],[29,2,11,7],[29,8,11,13,"drawAsPicture"],[29,21,11,26],[29,24,11,29],[29,30,11,29,"drawAsPicture"],[29,31,11,36,"element"],[29,38,11,43],[29,40,11,45,"bounds"],[29,46,11,51],[29,51,11,56],[30,4,12,2],[30,10,12,8,"recorder"],[30,18,12,16],[30,21,12,19,"Skia"],[30,31,12,23],[30,32,12,24,"PictureRecorder"],[30,47,12,39],[30,48,12,40],[30,49,12,41],[31,4,13,2],[31,10,13,8,"canvas"],[31,16,13,14],[31,19,13,17,"recorder"],[31,27,13,25],[31,28,13,26,"beginRecording"],[31,42,13,40],[31,43,13,41,"bounds"],[31,49,13,47],[31,50,13,48],[32,4,14,2],[32,10,14,8,"root"],[32,14,14,12],[32,17,14,15],[32,21,14,19,"SkiaSGRoot"],[32,43,14,29],[32,44,14,30,"Skia"],[32,54,14,34],[32,55,14,35],[33,4,15,2],[33,10,15,8,"root"],[33,14,15,12],[33,15,15,13,"render"],[33,21,15,19],[33,22,15,20,"element"],[33,29,15,27],[33,30,15,28],[34,4,16,2,"root"],[34,8,16,6],[34,9,16,7,"drawOnCanvas"],[34,21,16,19],[34,22,16,20,"canvas"],[34,28,16,26],[34,29,16,27],[35,4,17,2],[35,10,17,8,"picture"],[35,17,17,15],[35,20,17,18,"recorder"],[35,28,17,26],[35,29,17,27,"finishRecordingAsPicture"],[35,53,17,51],[35,54,17,52],[35,55,17,53],[36,4,18,2,"root"],[36,8,18,6],[36,9,18,7,"unmount"],[36,16,18,14],[36,17,18,15],[36,18,18,16],[37,4,19,2],[37,11,19,9,"picture"],[37,18,19,16],[38,2,20,0],[38,3,20,1],[39,2,20,2,"exports"],[39,9,20,2],[39,10,20,2,"drawAsPicture"],[39,23,20,2],[39,26,20,2,"drawAsPicture"],[39,39,20,2],[40,2,21,7],[40,8,21,13,"drawAsImage"],[40,19,21,24],[40,22,21,27],[40,28,21,27,"drawAsImage"],[40,29,21,34,"element"],[40,36,21,41],[40,38,21,43,"size"],[40,42,21,47],[40,47,21,52],[41,4,22,2],[41,11,22,9,"drawAsImageFromPicture"],[41,33,22,31],[41,34,22,32],[41,40,22,38,"drawAsPicture"],[41,53,22,51],[41,54,22,52,"element"],[41,61,22,59],[41,62,22,60],[41,64,22,62,"size"],[41,68,22,66],[41,69,22,67],[42,2,23,0],[42,3,23,1],[43,2,23,2,"exports"],[43,9,23,2],[43,10,23,2,"drawAsImage"],[43,21,23,2],[43,24,23,2,"drawAsImage"],[43,35,23,2],[44,2,23,2],[44,8,23,2,"_worklet_5317884552509_init_data"],[44,40,23,2],[45,4,23,2,"code"],[45,8,23,2],[46,4,23,2,"location"],[46,12,23,2],[47,4,23,2,"sourceMap"],[47,13,23,2],[48,4,23,2,"version"],[48,11,23,2],[49,2,23,2],[50,2,24,7],[50,8,24,13,"drawAsImageFromPicture"],[50,30,24,35],[50,33,24,35,"exports"],[50,40,24,35],[50,41,24,35,"drawAsImageFromPicture"],[50,63,24,35],[50,66,24,38],[51,4,24,38],[51,10,24,38,"_e"],[51,12,24,38],[51,20,24,38,"global"],[51,26,24,38],[51,27,24,38,"Error"],[51,32,24,38],[52,4,24,38],[52,10,24,38,"shopify_OffscreenJs2"],[52,30,24,38],[52,42,24,38,"shopify_OffscreenJs2"],[52,43,24,39,"picture"],[52,50,24,46],[52,52,24,48,"size"],[52,56,24,52],[52,58,24,57],[53,6,27,2],[53,12,27,8,"surface"],[53,19,27,15],[53,22,27,18,"Skia"],[53,32,27,22],[53,33,27,23,"Surface"],[53,40,27,30],[53,41,27,31,"MakeOffscreen"],[53,54,27,44],[53,55,27,45,"size"],[53,59,27,49],[53,60,27,50,"width"],[53,65,27,55],[53,67,27,57,"size"],[53,71,27,61],[53,72,27,62,"height"],[53,78,27,68],[53,79,27,69],[54,6,28,2],[54,12,28,8,"canvas"],[54,18,28,14],[54,21,28,17,"surface"],[54,28,28,24],[54,29,28,25,"getCanvas"],[54,38,28,34],[54,39,28,35],[54,40,28,36],[55,6,29,2,"canvas"],[55,12,29,8],[55,13,29,9,"drawPicture"],[55,24,29,20],[55,25,29,21,"picture"],[55,32,29,28],[55,33,29,29],[56,6,30,2,"surface"],[56,13,30,9],[56,14,30,10,"flush"],[56,19,30,15],[56,20,30,16],[56,21,30,17],[57,6,31,2],[57,12,31,8,"image"],[57,17,31,13],[57,20,31,16,"surface"],[57,27,31,23],[57,28,31,24,"makeImageSnapshot"],[57,45,31,41],[57,46,31,42],[57,47,31,43],[58,6,32,2],[59,6,33,2],[59,10,33,6],[59,11,33,7,"isOnMainThread"],[59,25,33,21],[59,26,33,22],[59,27,33,23],[59,31,33,27,"Platform"],[59,49,33,35],[59,50,33,36,"OS"],[59,52,33,38],[59,57,33,43],[59,62,33,48],[59,64,33,50],[60,8,34,4],[60,15,34,11,"image"],[60,20,34,16],[60,21,34,17,"makeNonTextureImage"],[60,40,34,36],[60,41,34,37],[60,42,34,38],[61,6,35,2],[61,7,35,3],[61,13,35,9],[62,8,36,4],[62,15,36,11,"image"],[62,20,36,16],[63,6,37,2],[64,4,38,0],[64,5,38,1],[65,4,38,1,"shopify_OffscreenJs2"],[65,24,38,1],[65,25,38,1,"__closure"],[65,34,38,1],[66,6,38,1,"Skia"],[66,10,38,1],[66,12,27,18,"Skia"],[66,22,27,22],[67,6,27,22,"isOnMainThread"],[67,20,27,22],[68,6,27,22,"Platform"],[68,14,27,22],[68,16,33,27,"Platform"],[69,4,33,35],[70,4,33,35,"shopify_OffscreenJs2"],[70,24,33,35],[70,25,33,35,"__workletHash"],[70,38,33,35],[71,4,33,35,"shopify_OffscreenJs2"],[71,24,33,35],[71,25,33,35,"__initData"],[71,35,33,35],[71,38,33,35,"_worklet_5317884552509_init_data"],[71,70,33,35],[72,4,33,35,"shopify_OffscreenJs2"],[72,24,33,35],[72,25,33,35,"__stackDetails"],[72,39,33,35],[72,42,33,35,"_e"],[72,44,33,35],[73,4,33,35],[73,11,33,35,"shopify_OffscreenJs2"],[73,31,33,35],[74,2,33,35],[74,3,24,38],[74,5,38,1],[75,0,38,2],[75,3]],"functionMap":{"names":["<global>","isOnMainThread","drawAsPicture","drawAsImage","drawAsImageFromPicture"],"mappings":"AAA;8BCK;CDI;6BEC;CFS;2BGC;CHE;sCIC;CJc"}},"type":"js/module"}]}